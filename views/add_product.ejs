<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Product</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <link rel="shortcut icon" href="#" />
  <link rel="stylesheet" href="/css/add-product.css">

</head>
  <body>
    <header class="header-design">
      <div class="container-fluid py-3 d-flex justify-content-center align-items-center" style="height: 10vh;">
        <div class="container d-flex justify-content-between align-items-center">
          <h1 class="h4 mb-0">
            <a href="/" class="text-decoration-none"><strong>E-Shop</strong></a>
          </h1>
          <nav class="nav">
            <ul class="nav">
              <li class="nav-item">
                <a class="nav-link home" href="/">
                  <img src="/img/home.png" alt="" class="home-icon"></img>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link bxh" href="/scoreboard">
                  <img src="/img/bxh.jpg" alt="" class="bxh-icon">
                </a>
              </li>
              <% if (!user) { %>
              <li class="nav-item">
                <a class="nav-link login" href="/login">Đăng nhập</a>
              </li>
              <li class="nav-item">
                <a class="nav-link dangky" href="/register">Đăng ký</a>
              </li>
              <% } else { %>
              <li class="nav-item">
                <a class="nav-link giohang" href="/cart">
                  <img src="/img/cart.jpg" alt="" class="cart-icon">                  
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link taosanpham" href="/product/add">
                  <img src="/img/add.jpg" alt="" class="add-icon">
                </a>
              </li>
              <li class="nav-item dropdown" style="width: 200px;">
                <a class="nav-link dropdown-toggle d-flex align-items-center" id="userDropdown" role="button">
                  <% if (user.avatar) { %>
                  <img src="/<%= user.avatar %>" class="avatar me-2" alt="" />
                  <% } else { %>
                  <img src="./img/def.jpg" class="avatar me-2" alt="" />
                  <% } %>
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                  <li>
                    <a class="dropdown-item" href="/user/<%= user.id %>">Profile</a>
                  </li>
                  <li><a class="dropdown-item" href="/settings">Cài đặt</a></li>
                  <li><a class="dropdown-item">Balanced: <%= user.balance %> VNĐ</a></li>
                  <li><hr class="dropdown-divider" /></li>
                  <!-- Chuyển đổi giao diện -->
                  <li class="nav-item">
                    <div class="d-flex align-items-center px-3 py-2">
                      <label class="change-mode" for="toggle-dark-mode" id="mode-label">Chế Độ Sáng</label>
                      <label class="switch" >
                        <input type="checkbox" id="toggle-dark-mode">
                        <span class="slider round"></span>
                      </label>
                    </div>
                  </li>
                  <li><hr class="dropdown-divider" /></li>
                  <li><a class="dropdown-item" href="/logout">Đăng xuất</a></li>
                </ul>
              </li>                       
              <% } %>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div class="custom table">
      <div class="preview" style="margin-left: 10px;">
        <!-- Thêm vào phần preview -->
        <div class="cropper-container" style="display: none;">
          <h2>Crop Image</h2>
          <div id="cropper-area">
            <img id="cropper-image" src="" alt="Image for Cropping" />
          </div>
          <button id="crop-button" class="btn btn-primary">Crop and Save</button>
        </div>
        <h2 class="alpha">Product Preview</h2>
        <div class="card product-card" style="width: 650px; height: 650px; border: 2px solid #7b7b7b;">
          <img id="preview-image" class="card-img-top" src="" alt="Product Image">
          <div class="card-body info">
            <h3 id="preview-name" class="card-title alpha">Name</h3>
            <p id="preview-price" class="card-text alpha">Price: 0 VND</p>
            <p id="preview-quantity" class="card-text alpha">Quantity: 0</p>
            <p id="preview-sale" class="card-text alpha" style="display:none;">Sale Value: 0%</p>
            <p id="preview-description" class="card-text alpha">Decrision</p>
          </div>
        </div>
      </div>
      <div class="form-container" style="margin-left: 75px;">
        <h1 style="margin-left: 350px;">Add New Product</h1>
        <form id="product-form" action="/product/auth/add" method="POST" enctype="multipart/form-data">
          <!-- Tên sản phẩm -->
          <div class="form-group" style="margin-left: 200px; margin-top: 30px;">
            <input type="text" id="name" name="name" class="form-control button-input" style="border: 2px solid #7b7b7b; margin-left: 4px; margin-top: -10px;" required placeholder="Product name">
          </div>
        
          <!-- Giá sản phẩm -->
          <div class="form-group " style="margin-left: 550px; margin-top: -147px;">
            <input type="number" id="price" name="price" class="form-control button-input" step="100" style="border: 2px solid #7b7b7b;" required min="100" placeholder="Enter Price">
          </div>
        
          <!-- Số lượng sản phẩm -->
          <div class="form-group alpha" style="margin-left: 552px; margin-top: -67px;">
            <input type="number" id="quantity" name="quantity" class="form-control button-input" style="border: 2px solid #7b7b7b;" required min="1" placeholder="Enter quantity">
          </div>
        
          <!-- Hình ảnh sản phẩm -->
          <div class="form-group alpha" style="margin-top: -147px; margin-left: 206px; width: 300px;">
            <input type="file" id="image" name="image" class="form-control button-input" style="height: 50px;" accept="image/*" required>
          </div>
        
          <!-- Sale checkbox -->
          <div class="form-check alpha" style="margin-left: 277px; margin-top: -80px; width: 100px; background-color: transparent; display: flex; align-items: center;">
            <input type="checkbox" id="sale" name="sale" class="form-check-input" style="height: 1px; width: 1px; margin-right: -50px;" onclick="toggleSaleValue()">
            <label for="sale" style="position: relative; display: inline-block; justify-content: center; width: 60px; height: 40px; border-radius: 8px; color: #1e1b1b; background-color: lightgray; text-align: center; cursor: pointer; font-size: 25px;">
              Sale
              <input type="checkbox" style="opacity: 0; position: absolute; width: 0%; height: 0%; cursor: pointer;">
            </label>
          </div>
      
          <div class="form-group" id="sale-value-container" style="display: none; margin-left: 286px; margin-top: -58px; height: auto; width: auto; background-color: transparent;">
            <input type="number" id="saleval" name="saleval" class="form-control button-input" style="height: auto; width: auto;" min="1" max="99" step="1" placeholder="% Sale">
          </div>
          <div class="form-group" style="margin-left: 195px; margin-bottom: 100px;">
            <div id="editor" style="height: 200px;"></div>
            <input type="hidden" id="description" name="description">
          </div>
          <button type="submit" class="btn btn-success button-submit" style="margin-top: -25px; margin-left: 510px; width: 350px; background-color: #2897f8;">Add Product</button>
        </form>
      </div>

      
      <div class="form-container " style="margin-left: 10px;">
        <h1>History</h1>
          <div class="history-group ">
              <name="history" class="form-control button-input" rows="4" required></textarea>
          </div>
      </div>

    </div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script src="/preview.js"></script>
    <script src="/darkmode.js"></script>
    <script src="/sale.js"></script>

  </body>
</html>
